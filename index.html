<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>神戸芸術センター・スタジオWEB予約</title>
<style>
  body {
    margin: 0;
    font-family: 'Helvetica Neue', sans-serif;
    background-color: #0b1a2e;
    color: white;
    overflow-x: hidden;
  }

  header {
    text-align: center;
    padding: 20px 10px;
  }

  header h1 {
    font-size: 1.8em;
    margin: 0;
    color: white;
    text-shadow: 0 0 10px rgba(255,255,255,0.4);
  }

  .user-info {
    font-size: 1em;
    margin-top: 4px;
  }

  .user-info a {
    color: #d0e0ff;
    text-decoration: underline;
    margin-left: 8px;
    cursor: pointer;
  }

  .instructions {
    background-color: rgba(255,255,255,0.05);
    color: #eee;
    padding: 10px 15px;
    font-size: 0.95em;
    text-align: left;
  }

  .calendar-container {
    text-align: center;
    margin-top: 10px;
  }

  .calendar-header {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-bottom: 5px;
  }

  .month-nav {
    background-color: #9eb7c4;
    border: none;
    color: #000;
    padding: 6px 10px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
  }

  .month-name {
    font-size: 1.3em;
    color: white;
    animation: glowWhite 2s infinite alternate;
    padding: 5px 12px;
    border-radius: 8px;
    background: radial-gradient(circle at center, rgba(255,255,255,0.15), transparent 70%);
  }

  @keyframes glowWhite {
    0% { text-shadow: 0 0 8px rgba(255,255,255,0.3); }
    100% { text-shadow: 0 0 20px rgba(255,255,255,0.8); }
  }

  .calendar {
    display: inline-grid;
    grid-template-columns: repeat(7, 40px);
    gap: 4px;
    justify-content: center;
  }

  .day-name {
    font-weight: bold;
    font-size: 0.9em;
  }

  .saturday { color: #a8d8ff; }
  .sunday { color: #e3c37d; }

  .day, .day-empty {
    width: 40px;
    height: 40px;
    line-height: 40px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .day:hover {
    background-color: rgba(255,255,255,0.1);
  }

  .selected-day {
    background: radial-gradient(circle at center, rgba(255,255,255,0.3), rgba(255,255,255,0.05));
    box-shadow: 0 0 15px rgba(255,255,255,0.8);
    color: white;
    font-weight: bold;
  }

  .studio-section {
    margin-top: 25px;
    text-align: center;
  }

  .studios {
    display: flex;
    justify-content: center;
    gap: 4px;
    margin-bottom: 10px;
  }

  .studio {
    flex: 1;
    padding: 8px 0;
    border-radius: 6px;
    font-weight: bold;
    color: #000;
    text-align: center;
    line-height: 1.4em;
    font-size: 0.9em;
    min-width: 65px;
  }

  .studio.A { background-color: #cc7b9b; }
  .studio.B { background-color: #7aa6c7; }
  .studio.C { background-color: #7fc980; }
  .studio.EF { background-color: #7988c7; }
  .studio.R { background-color: #d9c46e; }

  /* 発光ボタン */
  .proceed-btn {
    display: block;
    margin: 25px auto;
    padding: 12px 24px;
    font-size: 1.1em;
    color: white;
    background: radial-gradient(circle at center, rgba(255,255,255,0.25), rgba(255,255,255,0.05));
    border: none;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(255,255,255,0.3);
    animation: whiteSoft 2s infinite alternate;
  }

  @keyframes whiteSoft {
    from { box-shadow: 0 0 10px rgba(255,255,255,0.3), 0 0 20px rgba(255,255,255,0.2); }
    to   { box-shadow: 0 0 20px rgba(255,255,255,0.6), 0 0 30px rgba(255,255,255,0.4); }
  }

  .proceed-btn:hover {
    transform: scale(1.05);
  }
</style>
</head>

<body>
  <header>
    <h1>神戸芸術センター・スタジオWEB予約</h1>
    <div class="user-info">
      <span id="userName">山田太郎</span> 様
      <a id="logoutLink">ログアウト</a>
    </div>
  </header>

  <div class="instructions">
    カレンダーから日付を選び、各スタジオの利用時間を選択してください。選択したご利用内容がページ下部に表示されます。全ての選択が終わったら「予約へ進む」をクリックしてください。予約は6ヶ月先の月末まで受け付けしています。毎月1日の午前9時に、その月から6ヶ月先の予約が可能になります。
  </div>

  <div class="calendar-container">
    <div class="calendar-header">
      <button class="month-nav" id="prevMonth">前の月</button>
      <div class="month-name" id="monthYear"></div>
      <button class="month-nav" id="nextMonth">次の月</button>
    </div>
    <div class="calendar" id="calendar">
      <!-- カレンダーが自動生成されます -->
    </div>
  </div>

  <div class="studio-section">
    <div class="studios">
      <div class="studio A">A<br>￥1100</div>
      <div class="studio B">B<br>￥1100</div>
      <div class="studio C">C<br>￥1980</div>
      <div class="studio EF">EF<br>￥2310</div>
      <div class="studio R">R<br>￥2090</div>
    </div>
  </div>

  <button class="proceed-btn">予約へ進む</button>

  <script>
    const calendarEl = document.getElementById('calendar');
    const monthYearEl = document.getElementById('monthYear');
    const prevBtn = document.getElementById('prevMonth');
    const nextBtn = document.getElementById('nextMonth');

    let today = new Date();
    let currentYear = today.getFullYear();
    let currentMonth = today.getMonth(); // 0=Jan
    let selectedDate = null;

    const minDate = new Date(today.getFullYear(), today.getMonth(), 1);
    const maxDate = new Date(today.getFullYear(), today.getMonth() + 6, 1);

    function renderCalendar(year, month) {
      calendarEl.innerHTML = '';

      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);
      const startDay = (firstDay.getDay() + 6) % 7; // 月曜始まり

      monthYearEl.textContent = `${year}年${month + 1}月`;

      const weekdays = ['月','火','水','木','金','土','日'];
      weekdays.forEach((w, i) => {
        const div = document.createElement('div');
        div.classList.add('day-name');
        if (i === 5) div.classList.add('saturday');
        if (i === 6) div.classList.add('sunday');
        div.textContent = w;
        calendarEl.appendChild(div);
      });

      for (let i = 0; i < startDay; i++) {
        const empty = document.createElement('div');
        empty.classList.add('day-empty');
        calendarEl.appendChild(empty);
      }

      for (let d = 1; d <= lastDay.getDate(); d++) {
        const dateEl = document.createElement('div');
        dateEl.classList.add('day');
        const dayOfWeek = (startDay + d - 1) % 7;
        if (dayOfWeek === 5) dateEl.classList.add('saturday');
        if (dayOfWeek === 6) dateEl.classList.add('sunday');
        dateEl.textContent = d;

        const thisDate = new Date(year, month, d);
        if (selectedDate && thisDate.toDateString() === selectedDate.toDateString()) {
          dateEl.classList.add('selected-day');
        }

        dateEl.addEventListener('click', () => {
          selectedDate = thisDate;
          renderCalendar(year, month);
        });

        calendarEl.appendChild(dateEl);
      }
    }

    prevBtn.addEventListener('click', () => {
      const newDate = new Date(currentYear, currentMonth - 1);
      if (newDate < minDate) return;
      currentYear = newDate.getFullYear();
      currentMonth = newDate.getMonth();
      renderCalendar(currentYear, currentMonth);
    });

    nextBtn.addEventListener('click', () => {
      const newDate = new Date(currentYear, currentMonth + 1);
      if (newDate > maxDate) return;
      currentYear = newDate.getFullYear();
      currentMonth = newDate.getMonth();
      renderCalendar(currentYear, currentMonth);
    });

    renderCalendar(currentYear, currentMonth);
  </script>
</body>
</html>
